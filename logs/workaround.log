docker buildx prune -f
Total:	0B
docker --version
Docker version 24.0.6, build ed223bc
docker buildx version
github.com/docker/buildx v0.11.2 9872040
docker buildx build --progress plain --load -t naftulikay/docker-buildx-race-condition:latest \
	-f Dockerfile.workaround ./
#0 building with "priceless_sanderson" instance using docker-container driver

#1 [internal] load build definition from Dockerfile.workaround
#1 transferring dockerfile:
#1 transferring dockerfile: 1.98kB done
#1 DONE 0.2s

#2 [internal] load metadata for docker.io/library/node:18-alpine
#2 DONE 1.3s

#3 [internal] load .dockerignore
#3 transferring context:
#3 transferring context: 54B done
#3 DONE 0.2s

#4 [internal] load build context
#4 DONE 0.0s

#5 [builder 1/7] FROM docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46
#5 resolve docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46
#5 resolve docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46 0.1s done
#5 ...

#4 [internal] load build context
#4 transferring context: 10.62kB done
#4 DONE 0.5s

#5 [builder 1/7] FROM docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46
#5 sha256:fdef87f136ff3e0ba0d622cf3a573aebe6891d240d7dd55799ac0fd30a706db4 453B / 453B 0.2s done
#5 sha256:76c34934b3319c116bffd4685ee2bcb032298ccce64b89b7081ec18ffdbd6175 0B / 2.34MB 0.2s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 0B / 47.91MB 0.2s
#5 sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 0B / 3.40MB 0.2s
#5 sha256:76c34934b3319c116bffd4685ee2bcb032298ccce64b89b7081ec18ffdbd6175 1.05MB / 2.34MB 0.6s
#5 sha256:76c34934b3319c116bffd4685ee2bcb032298ccce64b89b7081ec18ffdbd6175 2.34MB / 2.34MB 0.9s done
#5 sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 1.05MB / 3.40MB 1.4s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 3.15MB / 47.91MB 1.7s
#5 sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 2.10MB / 3.40MB 2.0s
#5 sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 3.15MB / 3.40MB 2.6s
#5 sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 3.40MB / 3.40MB 2.7s done
#5 extracting sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa
#5 extracting sha256:96526aa774ef0126ad0fe9e9a95764c5fc37f409ab9e97021e7b4775d82bf6fa 0.1s done
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 6.29MB / 47.91MB 3.5s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 9.44MB / 47.91MB 4.4s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 12.58MB / 47.91MB 4.8s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 15.73MB / 47.91MB 5.3s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 18.87MB / 47.91MB 5.7s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 22.02MB / 47.91MB 6.5s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 25.17MB / 47.91MB 6.9s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 28.31MB / 47.91MB 7.5s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 31.46MB / 47.91MB 8.0s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 34.60MB / 47.91MB 8.6s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 37.75MB / 47.91MB 10.5s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 40.89MB / 47.91MB 12.2s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 44.04MB / 47.91MB 13.8s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 47.19MB / 47.91MB 15.5s
#5 sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 47.91MB / 47.91MB 15.8s done
#5 DONE 16.8s

#5 [builder 1/7] FROM docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46
#5 extracting sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7
#5 extracting sha256:824de1d006d492e037a03312c272427b62e171607bc6fb0e7db991b2eda190b7 0.9s done
#5 extracting sha256:76c34934b3319c116bffd4685ee2bcb032298ccce64b89b7081ec18ffdbd6175
#5 extracting sha256:76c34934b3319c116bffd4685ee2bcb032298ccce64b89b7081ec18ffdbd6175 0.1s done
#5 DONE 17.8s

#5 [builder 1/7] FROM docker.io/library/node:18-alpine@sha256:a315556d82ef54561e54fca7d8ee333382de183d4e56841dcefcd05b55310f46
#5 extracting sha256:fdef87f136ff3e0ba0d622cf3a573aebe6891d240d7dd55799ac0fd30a706db4 0.1s done
#5 DONE 17.9s

#6 [builder 2/7] RUN install -d -m 0755 /usr/src/app
#6 DONE 0.6s

#7 [builder 3/7] WORKDIR /usr/src/app
#7 DONE 0.3s

#8 [builder 4/7] COPY ./package.json ./package-lock.json ./
#8 DONE 0.3s

#9 [builder 5/7] RUN echo "*** cache id: com.github.naftulikay.my-repo.node-modules.v1"
#9 0.305 *** cache id: com.github.naftulikay.my-repo.node-modules.v1
#9 DONE 0.4s

#10 [builder 6/7] RUN --mount=type=cache,sharing=locked,id=com.github.naftulikay.my-repo.node-modules.v1,target=/usr/src/app/node_modules     rm -fr node_modules/* &&     npm install &&     touch .cookie
#10 1.987 
#10 1.987 added 23 packages, and audited 24 packages in 1s
#10 1.987 
#10 1.987 4 packages are looking for funding
#10 1.987   run `npm fund` for details
#10 1.988 
#10 1.988 found 0 vulnerabilities
#10 1.988 npm notice 
#10 1.988 npm notice New major version of npm available! 9.8.1 -> 10.1.0
#10 1.988 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v10.1.0>
#10 1.988 npm notice Run `npm install -g npm@10.1.0` to update!
#10 1.988 npm notice 
#10 DONE 2.1s

#11 [builder 7/7] COPY ./index.js ./
#11 DONE 0.3s

#12 [stage-1 4/9] COPY --from=builder /usr/src/app/.cookie ./
#12 DONE 0.2s

#13 [stage-1 5/9] RUN echo "*** cache id: com.github.naftulikay.my-repo.node-modules.v1"
#13 0.331 *** cache id: com.github.naftulikay.my-repo.node-modules.v1
#13 DONE 0.4s

#14 [stage-1 6/9] RUN --mount=type=cache,sharing=locked,id=com.github.naftulikay.my-repo.node-modules.v1,target=/builder/node_modules cp -r /builder/node_modules ./
#14 DONE 0.5s

#15 [stage-1 7/9] COPY --from=builder /usr/src/app/index.js ./
#15 DONE 0.3s

#16 [stage-1 8/9] COPY utils/sanity.sh ./
#16 DONE 0.3s

#17 [stage-1 9/9] RUN ./sanity.sh --clean
#17 0.351 *** my work here is done
#17 DONE 0.4s

#18 exporting to docker image format
#18 exporting layers
#18 exporting layers 2.1s done
#18 exporting manifest sha256:c487b1094b9f3d72b56f68c42089c2b204527a2b9d0aae24a479c9adad2c8c4a 0.1s done
#18 exporting config sha256:fcc4ca5d131d10bfba7d5d00a2c1373873ecc6b8b41c69325f2a38fd987dc8d2
#18 exporting config sha256:fcc4ca5d131d10bfba7d5d00a2c1373873ecc6b8b41c69325f2a38fd987dc8d2 0.1s done
#18 sending tarball
#18 sending tarball 0.6s done
#18 DONE 2.9s

#19 importing to docker
#19 DONE 0.4s
